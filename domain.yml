version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - ask_about_product
  - ask_about_price
  - ask_about_discount
  - ask_about_payment
  - ask_about_availability
  - ask_about_order_tracking
  - ask_about_return_policy
  - ask_about_shipping
  - ask_about_opening_hours
  - ask_about_location
  - ask_about_contact

slots:
  book_selection:
    type: text
    mappings:
      - type: from_llm

  user_contact_info:
    type: text
    mappings:
      - type: from_llm

  delivery_address:
    type: text
    mappings:
      - type: from_llm

  payment_method:
    type: text
    mappings:
      - type: from_llm

  confirmation:
    type: text
    mappings:
      - type: from_llm
  
  request_human_handoff:
    type: bool
    influence_conversation: true


responses:
  utter_greet:
    - text: "Ch√†o b·∫°n! B·∫°n c√≥ kh·ªèe kh√¥ng?"
    - text: "Hi! B·∫°n c·∫ßn gi√∫p g√¨ h√¥m nay?"
    - text: "Xin ch√†o! B·∫°n mu·ªën t√¨m hi·ªÉu g√¨?"
    - text: "Ch√†o b·∫°n, h√¥m nay t√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n?"
  
  utter_did_that_help:
    - text: "B·∫°n c·∫ßn m√¨nh h·ªó tr·ª£ th√™m g√¨ n·ªØa kh√¥ng?"
    - text: "B·∫°n c√≤n c√¢u h·ªèi n√†o kh√°c mu·ªën h·ªèi kh√¥ng?"
    - text: "M√¨nh c√≥ th·ªÉ gi√∫p g√¨ th√™m cho b·∫°n n·ªØa kh√¥ng?"
    - text: "N·∫øu c√≤n ƒëi·ªÅu g√¨ ch∆∞a r√µ, b·∫°n c·ª© h·ªèi nh√©!"
  
  utter_happy:
    - text: "Tuy·ªát v·ªùi, ti·∫øp t·ª•c th√¥i!"
    - text: "Th·∫≠t tuy·ªát v·ªùi! Ti·∫øn h√†nh nh√©!"
    - text: "Tuy·ªát qu√°, ch√∫c b·∫°n ng√†y vui v·∫ª!"
    - text: "Ch·∫Øc ch·∫Øn r·ªìi, ti·∫øp t·ª•c c√¥ng vi·ªác th√¥i!"

  utter_goodbye:
    - text: "T·∫°m bi·ªát!"
    - text: "Ch√∫c b·∫°n m·ªôt ng√†y t·ªët l√†nh!"
    - text: "T·∫°m bi·ªát v√† h·∫πn g·∫∑p l·∫°i!"
    - text: "Ch√∫c b·∫°n c√≥ m·ªôt ng√†y tuy·ªát v·ªùi!"
  
  utter_ask_product_inquiry:
    - text: "B·∫°n ƒëang t√¨m s·∫£n ph·∫©m g√¨? Hay c√≥ ƒëi·ªÅu g√¨ t√¥i c√≥ th·ªÉ t∆∞ v·∫•n gi√∫p b·∫°n?"
    - text: "B·∫°n c·∫ßn t√¨m s√°ch g√¨ ho·∫∑c c·∫ßn t√¥i h·ªó tr·ª£ v·ªÅ s·∫£n ph·∫©m n√†o?"
    - text: "Ch√∫ng t√¥i c√≥ r·∫•t nhi·ªÅu s√°ch, b·∫°n ƒëang quan t√¢m ƒë·∫øn th·ªÉ lo·∫°i ho·∫∑c s·∫£n ph·∫©m n√†o?"
    - text: "Ch√†o b·∫°n, b·∫°n mu·ªën t√¥i t∆∞ v·∫•n g√¨ cho b·∫°n? B·∫°n ƒëang t√¨m s√°ch hay c√≥ c√¢u h·ªèi g√¨ kh√°c?"

  utter_ask_about_product:
    - text: "B·∫°n mu·ªën t√¨m s√°ch g√¨? Ch√∫ng t√¥i c√≥ nhi·ªÅu th·ªÉ lo·∫°i s√°ch cho b·∫°n l·ª±a ch·ªçn."
    - text: "B·∫°n ƒëang t√¨m s√°ch th·ªÉ lo·∫°i n√†o? Ch√∫ng t√¥i c√≥ r·∫•t nhi·ªÅu l·ª±a ch·ªçn!"
    - text: "B·∫°n c·∫ßn t√¨m s√°ch g√¨? Ch√∫ng t√¥i c√≥ r·∫•t nhi·ªÅu th·ªÉ lo·∫°i s√°ch ph√π h·ª£p v·ªõi b·∫°n."
    - text: "S√°ch g√¨ b·∫°n th√≠ch? Ch√∫ng t√¥i c√≥ m·ªôt b·ªô s∆∞u t·∫≠p l·ªõn ƒë·ªÉ b·∫°n ch·ªçn l·ª±a."

  utter_ask_about_price:
    - text: "Gi√° s√°ch dao ƒë·ªông t√πy theo th·ªÉ lo·∫°i v√† t√°c gi·∫£. B·∫°n mu·ªën bi·∫øt gi√° c·ªßa cu·ªën s√°ch n√†o?"
    - text: "M·ªói cu·ªën s√°ch c√≥ m·ªôt m·ª©c gi√° ri√™ng, b·∫°n c√≥ th·ªÉ cho t√¥i bi·∫øt cu·ªën s√°ch b·∫°n mu·ªën tham kh·∫£o kh√¥ng?"
    - text: "Gi√° c·ªßa s√°ch ph·ª• thu·ªôc v√†o nhi·ªÅu y·∫øu t·ªë. B·∫°n mu·ªën h·ªèi v·ªÅ gi√° c·ªßa cu·ªën s√°ch n√†o?"
    - text: "Ch√∫ng t√¥i c√≥ s√°ch v·ªõi gi√° r·∫•t ƒëa d·∫°ng, b·∫°n mu·ªën t√¨m hi·ªÉu gi√° c·ªßa s√°ch n√†o?"

  utter_ask_about_discount:
    - text: "Ch√∫ng t√¥i th∆∞·ªùng xuy√™n c√≥ c√°c ch∆∞∆°ng tr√¨nh gi·∫£m gi√°, b·∫°n c√≥ mu·ªën bi·∫øt v·ªÅ ch∆∞∆°ng tr√¨nh gi·∫£m gi√° hi·ªán t·∫°i kh√¥ng?"
    - text: "B·∫°n mu·ªën bi·∫øt c√°c ∆∞u ƒë√£i gi·∫£m gi√° hi·ªán t·∫°i c·ªßa ch√∫ng t√¥i kh√¥ng?"
    - text: "Ch√∫ng t√¥i c√≥ nhi·ªÅu ch∆∞∆°ng tr√¨nh gi·∫£m gi√°, b·∫°n c√≥ mu·ªën t√¥i gi·ªõi thi·ªáu chi ti·∫øt kh√¥ng?"
    - text: "ƒê·ª´ng b·ªè l·ª° c√°c ch∆∞∆°ng tr√¨nh gi·∫£m gi√° h·∫•p d·∫´n c·ªßa ch√∫ng t√¥i, b·∫°n mu·ªën bi·∫øt th√™m kh√¥ng?"

  utter_ask_about_payment:
    - text: "Ch√∫ng t√¥i h·ªó tr·ª£ nhi·ªÅu ph∆∞∆°ng th·ª©c thanh to√°n nh∆∞ th·∫ª t√≠n d·ª•ng, chuy·ªÉn kho·∫£n ng√¢n h√†ng v√† thanh to√°n khi nh·∫≠n h√†ng."
    - text: "B·∫°n c√≥ th·ªÉ thanh to√°n qua th·∫ª t√≠n d·ª•ng, chuy·ªÉn kho·∫£n ng√¢n h√†ng ho·∫∑c thanh to√°n khi nh·∫≠n h√†ng."
    - text: "Ch√∫ng t√¥i h·ªó tr·ª£ c√°c ph∆∞∆°ng th·ª©c thanh to√°n linh ho·∫°t, bao g·ªìm thanh to√°n qua th·∫ª v√† chuy·ªÉn kho·∫£n ng√¢n h√†ng."
    - text: "Ch√∫ng t√¥i c√≥ nhi·ªÅu l·ª±a ch·ªçn thanh to√°n, b·∫°n c√≥ th·ªÉ ch·ªçn ph∆∞∆°ng th·ª©c ph√π h·ª£p v·ªõi m√¨nh."

  utter_ask_about_availability:
    - text: "Cu·ªën s√°ch n√†y c√≤n kh√¥ng? Ch√∫ng t√¥i s·∫Ω ki·ªÉm tra ngay cho b·∫°n."
    - text: "T√¥i s·∫Ω ki·ªÉm tra xem cu·ªën s√°ch n√†y c√≤n h√†ng kh√¥ng?"
    - text: "ƒê·ªÉ t√¥i ki·ªÉm tra l·∫°i t√¨nh tr·∫°ng s√°ch n√†y cho b·∫°n nh√©."
    - text: "Ch√∫ng t√¥i s·∫Ω nhanh ch√≥ng ki·ªÉm tra xem s√°ch n√†y c√≥ s·∫µn kh√¥ng."

  utter_ask_about_order_tracking:
    - text: "B·∫°n c√≥ th·ªÉ theo d√µi tr·∫°ng th√°i ƒë∆°n h√†ng qua ·ª©ng d·ª•ng ho·∫∑c li√™n h·ªá ch√∫ng t√¥i n·∫øu c·∫ßn h·ªó tr·ª£ th√™m."
    - text: "ƒê∆°n h√†ng c·ªßa b·∫°n c√≥ th·ªÉ ƒë∆∞·ª£c theo d√µi qua ·ª©ng d·ª•ng c·ªßa ch√∫ng t√¥i."
    - text: "B·∫°n c√≥ th·ªÉ xem chi ti·∫øt ƒë∆°n h√†ng ngay tr√™n ·ª©ng d·ª•ng ho·∫∑c li√™n h·ªá v·ªõi ch√∫ng t√¥i n·∫øu c·∫ßn gi√∫p ƒë·ª°."
    - text: "N·∫øu b·∫°n mu·ªën theo d√µi tr·∫°ng th√°i ƒë∆°n h√†ng, h√£y s·ª≠ d·ª•ng ·ª©ng d·ª•ng c·ªßa ch√∫ng t√¥i."

  utter_ask_about_return_policy:
    - text: "Ch√∫ng t√¥i c√≥ ch√≠nh s√°ch tr·∫£ h√†ng trong v√≤ng 7 ng√†y n·∫øu s√°ch b·ªã l·ªói ho·∫∑c kh√¥ng ƒë√∫ng v·ªõi m√¥ t·∫£."
    - text: "B·∫°n c√≥ th·ªÉ tr·∫£ l·∫°i s√°ch trong v√≤ng 7 ng√†y n·∫øu s√°ch b·ªã l·ªói ho·∫∑c kh√¥ng nh∆∞ m√¥ t·∫£."
    - text: "Ch√∫ng t√¥i c√≥ ch√≠nh s√°ch ho√†n tr·∫£ trong 7 ng√†y, n·∫øu s√°ch b·ªã l·ªói ho·∫∑c kh√¥ng ƒë√∫ng m√¥ t·∫£."
    - text: "N·∫øu s√°ch kh√¥ng nh∆∞ m√¥ t·∫£ ho·∫∑c b·ªã l·ªói, b·∫°n c√≥ th·ªÉ tr·∫£ l·∫°i trong v√≤ng 7 ng√†y."

  utter_ask_about_shipping:
    - text: "Ch√∫ng t√¥i h·ªó tr·ª£ giao h√†ng to√†n qu·ªëc. Th·ªùi gian giao h√†ng t·ª´ 2-5 ng√†y."
    - text: "Ch√∫ng t√¥i giao h√†ng nhanh ch√≥ng tr√™n to√†n qu·ªëc, b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c ƒë∆°n h√†ng trong 2-5 ng√†y."
    - text: "Giao h√†ng c·ªßa ch√∫ng t√¥i ƒë∆∞·ª£c th·ª±c hi·ªán tr√™n to√†n qu·ªëc, th·ªùi gian giao h√†ng t·ª´ 2-5 ng√†y."
    - text: "Ch√∫ng t√¥i cung c·∫•p d·ªãch v·ª• giao h√†ng to√†n qu·ªëc, b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c h√†ng trong v√≤ng 2-5 ng√†y."

  utter_ask_about_opening_hours:
    - text: "C·ª≠a h√†ng m·ªü c·ª≠a t·ª´ 9h s√°ng ƒë·∫øn 6h t·ªëi m·ªói ng√†y."
    - text: "C·ª≠a h√†ng c·ªßa ch√∫ng t√¥i ho·∫°t ƒë·ªông t·ª´ 9h s√°ng ƒë·∫øn 6h t·ªëi h√†ng ng√†y."
    - text: "Ch√∫ng t√¥i m·ªü c·ª≠a t·ª´ 9h s√°ng ƒë·∫øn 6h t·ªëi, b·∫°n c√≥ th·ªÉ gh√© qua b·∫•t k·ª≥ l√∫c n√†o trong th·ªùi gian n√†y."
    - text: "C·ª≠a h√†ng c·ªßa ch√∫ng t√¥i lu√¥n s·∫µn s√†ng ph·ª•c v·ª• b·∫°n t·ª´ 9h s√°ng ƒë·∫øn 6h t·ªëi."

  utter_ask_about_location:
    - text: "Ch√∫ng t√¥i ·ªü ƒë·ªãa ch·ªâ 123 ƒë∆∞·ªùng ABC, qu·∫≠n XYZ, TP. HCM."
    - text: "C·ª≠a h√†ng c·ªßa ch√∫ng t√¥i n·∫±m ·ªü ƒë·ªãa ch·ªâ 123 ƒë∆∞·ªùng ABC, qu·∫≠n XYZ, TP. HCM."
    - text: "B·∫°n c√≥ th·ªÉ t√¨m th·∫•y ch√∫ng t√¥i t·∫°i 123 ƒë∆∞·ªùng ABC, qu·∫≠n XYZ, TP. HCM."
    - text: "Ch√∫ng t√¥i c√≥ m·∫∑t t·∫°i ƒë·ªãa ch·ªâ 123 ƒë∆∞·ªùng ABC, qu·∫≠n XYZ, TP. HCM."

  utter_ask_about_contact:
    - text: "B·∫°n c√≥ th·ªÉ li√™n h·ªá admin qua email: admin@sachhay.vn ho·∫∑c s·ªë 0123 456 789."
    - text: "N·∫øu c·∫ßn h·ªó tr·ª£, b·∫°n c√≥ th·ªÉ li√™n h·ªá v·ªõi ch√∫ng t√¥i qua email admin@sachhay.vn ho·∫∑c s·ªë ƒëi·ªán tho·∫°i 0123 456 789."
    - text: "Li√™n h·ªá v·ªõi ch√∫ng t√¥i qua email admin@sachhay.vn ho·∫∑c g·ªçi s·ªë 0123 456 789 n·∫øu b·∫°n c·∫ßn th√™m th√¥ng tin."
    - text: "Ch√∫ng t√¥i c√≥ th·ªÉ h·ªó tr·ª£ b·∫°n qua email admin@sachhay.vn ho·∫∑c qua s·ªë 0123 456 789."

  utter_ask_product_unavailable:
    - text: "R·∫•t ti·∫øc, s·∫£n ph·∫©m n√†y hi·ªán t·∫°i kh√¥ng c√≥ s·∫µn. B·∫°n c√≥ mu·ªën xem nh·ªØng s·∫£n ph·∫©m kh√°c kh√¥ng?"
    - text: "S·∫£n ph·∫©m n√†y ƒëang h·∫øt h√†ng, nh∆∞ng ch√∫ng t√¥i c√≥ nhi·ªÅu l·ª±a ch·ªçn kh√°c cho b·∫°n tham kh·∫£o. B·∫°n c√≥ mu·ªën xem kh√¥ng?"
    - text: "Xin l·ªói, s·∫£n ph·∫©m b·∫°n t√¨m kh√¥ng c√≥ s·∫µn t·∫°i th·ªùi ƒëi·ªÉm n√†y. B·∫°n c√≥ mu·ªën t√¨m hi·ªÉu v·ªÅ c√°c s·∫£n ph·∫©m t∆∞∆°ng t·ª±?"

  # book_purchase
  utter_ask_book_selection:
    - text: "B·∫°n mu·ªën mua lo·∫°i s√°ch n√†o?"

  utter_ask_user_contact_info:
    - text: "Vui l√≤ng cho bi·∫øt th√¥ng tin li√™n h·ªá c·ªßa b·∫°n (email, s·ªë ƒëi·ªán tho·∫°i)."

  utter_ask_delivery_address:
    - text: "B·∫°n mu·ªën giao h√†ng t·ªõi ƒë·ªãa ch·ªâ n√†o?"

  utter_ask_payment_method:
    - text: "B·∫°n mu·ªën thanh to√°n b·∫±ng h√¨nh th·ª©c n√†o?"

  utter_ask_confirmation:
    - text: "ƒê√¢y l√† ƒë∆°n h√†ng b·∫°n ƒë√£ ch·ªçn. Vui l√≤ng x√°c nh·∫≠n (c√≥/kh√¥ng)."

  utter_summarize_order:
    - text: |
        D∆∞·ªõi ƒë√¢y l√† t√≥m t·∫Øt ƒë∆°n h√†ng c·ªßa b·∫°n:
        üìö S√°ch: {book_selection}
        üìû Li√™n h·ªá: {user_contact_info}
        üè† ƒê·ªãa ch·ªâ giao h√†ng: {delivery_address}
        üí≥ Ph∆∞∆°ng th·ª©c thanh to√°n: {payment_method}
        Vui l√≤ng x√°c nh·∫≠n n·∫øu m·ªçi th√¥ng tin ƒë·ªÅu ch√≠nh x√°c.

  utter_order_complete:
    - text: "ƒê∆°n h√†ng c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c x·ª≠ l√Ω th√†nh c√¥ng."
      metadata:
        rephrase: True
  
  utter_free_chitchat_response:
    - text: "B·∫°n h·ªèi vui qu√° üòÑ. M√¨nh ƒëang gi√∫p b·∫°n ch·ªçn mua s√°ch nh√©!"
    - text: "M√¨nh ·ªü ƒë√¢y n·∫øu b·∫°n c·∫ßn h·ªó tr·ª£ v·ªÅ s√°ch."
    - text: "N·∫øu b·∫°n mu·ªën t√¨m s√°ch ho·∫∑c mua s√°ch, m√¨nh lu√¥n s·∫µn s√†ng h·ªó tr·ª£ nh√©!"
  
  utter_can_do_something_else:
    - text: "C√≥ ƒëi·ªÅu g√¨ kh√°c t√¥i c√≥ th·ªÉ h·ªó tr·ª£ b·∫°n kh√¥ng?"
      metadata:
        rephrase: True
      
  utter_ask_request_human_handoff:
    - text: "B·∫°n c√≥ mu·ªën ƒë∆∞·ª£c k·∫øt n·ªëi v·ªõi nh√¢n vi√™n h·ªó tr·ª£ kh√¥ng?"
      buttons:
        - title: "C√≥"
          payload: '/affirm{"request_human_handoff": true}'
        - title: "Kh√¥ng"
          payload: '/deny{"request_human_handoff": false}'

  utter_human_handoff_cancelled:
    - text: "ƒê√£ hi·ªÉu, b·∫°n kh√¥ng mu·ªën k·∫øt n·ªëi v·ªõi nh√¢n vi√™n t∆∞ v·∫•n. T√¥i c√≥ th·ªÉ gi√∫p g√¨ th√™m cho b·∫°n kh√¥ng?"
      metadata:
        rephrase: True

actions:
  - action_human_handoff

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
